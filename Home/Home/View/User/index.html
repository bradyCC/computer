<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--<meta name="viewport"-->
          <!--content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">-->
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{$title}</title>
    <link rel="stylesheet" href="__PUBLIC__/bs/css/bootstrap.min.css">
    <script src="__PUBLIC__/bs/js/jquery-3.2.1.min.js"></script>
    <script src="__PUBLIC__/bs/js/bootstrap.min.js"></script>
    <script src="__PUBLIC__/bs/js/holder.min.js"></script>
    <style>
        /*基准样式*/
        *{
            font-family: "微软雅黑", "宋体";
        }
        body{
            background: url("../Public/images/bg_6.jpeg");
        }
        /*用户注册表样式*/
        .container{
            width: 800px;
        }
        .container h1{
            text-align: center;
            color: #fff;
            padding-bottom: 15px;
            width: 600px;
            margin-left: 80px;
        }
        form{
            padding-top: 15px;
        }
        .form-group{
            margin-bottom: 25px;
        }
        .form-group p{
            padding-left: 5px;
            color: #fff;
            margin-bottom: 0;
        }
        .form-group p:hover{
            color: #f30213;
        }
        .form-group label{
            color: #fff;
            font-weight: bold;
            font-size: 14px;
        }
        .btn{
            width: 80px;
            margin-right: 10px;
        }
        .error{
            font-weight: bold;
            height: 34px;
            line-height: 34px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1 class="page-header">用户注册</h1>
    <form action="__CONTROLLER__/insert" method="post" name="form" class="form-horizontal">
        <div class="form-group has-feedback">
            <label for="username" class="col-md-3 control-label">用户名</label>
            <div class="col-md-6">
                <input type="text" name="username" id="username" placeholder="请输入用户名" class="form-control auth" autofocus required>
                <!--<span class="glyphicon glyphicon-ok form-control-feedback"></span>-->
                <!--<span class="glyphicon glyphicon-remove form-control-feedback"></span>-->
                <p class="help-block">用户名需由字母、数字、下划线组成，且不得少于六位</p>
            </div>
            <div class="col-md-3">
                <span class="error"></span>
            </div>
        </div>
        <div class="form-group has-feedback">
            <label for="password" class="col-md-3 control-label">密码</label>
            <div class="col-md-6">
                <input type="password" name="password" id="password" placeholder="请输入密码" class="form-control auth" required>
                <!--<span class="glyphicon glyphicon-ok form-control-feedback"></span>-->
                <!--<span class="glyphicon glyphicon-remove form-control-feedback"></span>-->
                <p class="help-block">密码需由字母、数字、下划线组成，且不得少于八位</p>
            </div>
            <div class="col-md-3">
                <span class="error"></span>
            </div>
        </div>
        <div class="form-group has-feedback">
            <label for="repassword" class="col-md-3 control-label">确认密码</label>
            <div class="col-md-6">
                <input type="password" name="repassword" id="repassword" placeholder="请再次输入密码" class="form-control auth" required>
                <!--<span class="glyphicon glyphicon-ok form-control-feedback"></span>-->
                <!--<span class="glyphicon glyphicon-remove form-control-feedback"></span>-->
                <p class="help-block">确认密码需与密码一致</p>
            </div>
            <div class="col-md-3">
                <span class="error"></span>
            </div>
        </div>
        <div class="form-group has-feedback">
            <label for="email" class="col-md-3 control-label">电子邮箱</label>
            <div class="col-md-6">
                <input type="email" name="email" id="email" placeholder="请输入电子邮箱地址" class="form-control auth" required>
                <!--<span class="glyphicon glyphicon-ok form-control-feedback"></span>-->
                <!--<span class="glyphicon glyphicon-remove form-control-feedback"></span>-->
            </div>
            <div class="col-md-3">
                <span class="error"></span>
            </div>
        </div>
        <div class="form-group has-feedback">
            <label for="phone" class="col-md-3 control-label">手机号码</label>
            <div class="col-md-6">
                <input type="tel" name="phone" id="phone" placeholder="请输入手机号码" class="form-control auth" required>
                <!--<span class="glyphicon glyphicon-ok form-control-feedback"></span>-->
                <!--<span class="glyphicon glyphicon-remove form-control-feedback"></span>-->
            </div>
            <div class="col-md-3">
                <span class="error"></span>
            </div>
        </div>
        <!--<div class="form-group has-feedback">-->
            <!--<label for="idCode" class="col-md-3 control-label">身份证号</label>-->
            <!--<div class="col-md-7">-->
                <!--<input type="text" name="idCode" id="idCode" placeholder="请输入身份证号码" class="form-control">-->
                <!--&lt;!&ndash;<span class="glyphicon glyphicon-ok form-control-feedback"></span>&ndash;&gt;-->
                <!--&lt;!&ndash;<span class="glyphicon glyphicon-remove form-control-feedback"></span>&ndash;&gt;-->
            <!--</div>-->
        <!--</div>-->
        <!--<div class="form-group">-->
            <!--<label class="col-md-3 control-label">性别</label>-->
            <!--<div class="col-md-7">-->
                <!--<label class="radio-inline">-->
                    <!--<input type="radio" name="sex" value="male"> 男-->
                <!--</label>-->
                <!--<label class="radio-inline">-->
                    <!--<input type="radio" name="sex" value="female"> 女-->
                <!--</label>-->
            <!--</div>-->
        <!--</div>-->
        <!--<div class="form-group">-->
            <!--<label for="country" class="col-md-3 control-label">城市</label>-->
            <!--<div class="col-md-7">-->
                <!--<select name="country" id="country" class="form-control">-->
                    <!--<option value="nochoice">选择</option>-->
                    <!--<option value="beijing">北京</option>-->
                    <!--<option value="shanghai">上海</option>-->
                    <!--<option value="jinan">济南</option>-->
                    <!--<option value="guangzhou">广州</option>-->
                    <!--<option value="shenzhen">深圳</option>-->
                    <!--<option value="qingdao">青岛</option>-->
                <!--</select>-->
            <!--</div>-->
        <!--</div>-->
        <div class="form-group">
            <label for="" class="col-md-3 control-label">验证码图片</label>
            <div class="col-md-6">
                <img src="{:U('vcode')}" alt="" onclick="this.src='__CONTROLLER__/vcode/rand'+Math.random();">
             </div>
        </div>
        <div class="form-group">
            <label for="fcode" class="col-md-3 control-label">验证码</label>
            <div class="col-md-6">
                <input type="text" name="fcode" id="fcode" class="form-control" required>
            </div>
        </div>
        <div class="from-group">
            <div class="col-md-offset-4 col-md-6">
                <input type="submit" value="注册" class="btn btn-primary">
                <input type="reset" value="重置" class="btn btn-danger">
            </div>
        </div>
    </form>
</div>
</body>
<script>

    //表单验证
    $("[name=username]").blur(function(){
        var value = $(this).val();
        if(value==""){
            $(this).data({"s":0});
            $(this).parent().next().children().html("");
        }else if(!value.match(/^\w{6,}$/i)){
            $(this).data({"s":0});
            $(this).parent().next().children().html("用户名格式错误！").css({"color":"#f30213"});
        }else{
            $(this).data({"s":1});
            $(this).parent().next().children().html("用户名输入正确！").css({"color":"#28f040"});
        }
    });

    //密码验证
    $("[name=password]").blur(function(){
        var value = $(this).val();
        if(value==""){
            $(this).data({"s":0});
            $(this).parent().next().children().html("");
        }else if(!value.match(/^\w{8,}$/i)){
            $(this).data({"s":0});
            $(this).parent().next().children().html("密码格式错误！").css({"color":"#f30213"});
        }else{
            $(this).data({"s":1});
            $(this).parent().next().children().html("密码输入正确！").css({"color":"#28f040"});
        }
    });

    //确认密码
    $("[name=repassword]").blur(function(){
        var value = $(this).val();
        var value2 = $("[name=password]").val();
        if(value!=value2){
            $(this).data({"s":0});
            $(this).parent().next().children().html("两次密码输入不一致！").css({"color":"#f30213"});
        }else if(value==""){
            $(this).data({"s":0});
            $(this).parent().next().children().html("");
        }else{
            $(this).data({"s":1});
            $(this).parent().next().children().html("密码输入正确！").css({"color":"#28f040"});
        }
    });

    //邮箱验证
    $("[name=email]").blur(function(){
        var value = $(this).val();
        if(value==""){
            $(this).data({"s":0});
            $(this).parent().next().children().html("");
        }else if(!value.match(/^\w+@\w+\.\w+$/i)){
            $(this).data({"s":0});
            $(this).parent().next().children().html("电子邮箱格式错误！").css({"color":"#f30213"});
        }else{
            $(this).data({"s":1});
            $(this).parent().next().children().html("电子邮箱格式正确！").css({"color":"#28f040"});
        }
    });


    //手机验证
    $("[name=phone]").blur(function(){
        var value = $(this).val();
        if(value==""){
            $(this).data({"s":0});
            $(this).parent().next().children().html("");
        }else if(!value.match(/^1[358]\d{9}$/i)){
            $(this).data({"s":0});
            $(this).parent().next().children().html("手机号码输入错误！").css({"color":"#f30213"});
        }else{
            $(this).data({"s":1});
            $(this).parent().next().children().html("手机号码输入正确！").css({"color":"#28f040"});
        }
    });

    //表单验证
    $("form").submit(function(){
        $(".auth").blur();

        var tot = 0;
        $(".auth").each(function(){
            tot += $(this).data("s");
        });

        if(tot!=5){
            return false;
        }
    });

</script>
</html>



